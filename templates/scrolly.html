<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/scrollama"></script>
    <script src="https://unpkg.com/topojson@3"></script>

    <style>
      #scrolly {
        position: relative;
        background-color: #f3f3f3;
        padding: 1rem;
      }

      article {
        position: relative;
        padding: 0;
        max-width: 20rem;
        transform: translateY(-25%)
        /* margin: 0 auto; */
      }

      figure {
        position: -webkit-sticky;
        position: sticky;
        left: 0;
        width: 100%;
        margin: 0;
        -webkit-transform: translate3d(0, 0, 0);
        -moz-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        /* background-color: #8a8a8a; */
        z-index: 0;
      }

      figure canvas {
        position: absolute;
        right: 0;
      }

      figure div {
        position: absolute;
        left: 0;
      }

      .step {
        margin: 0 auto 2rem auto;
        color: #fff;
        background-color: rgba(0, 0, 0, 0.1);
      }

      .step:last-child {
        margin-bottom: 0;
      }

      .step.is-active .title {
        background-color: goldenrod;
        color: #3b3b3b;
      }

      .step .title {
        text-align: center;
        padding: 1rem;
        font-size: 1.5rem;
        background-color: #3b3b3b;
      }

      .step .info {
        text-align: center;
        padding: 1rem;
        font-size: 1.15rem;
        color: black;
      }

      #sliders {
        position: fixed;
        top: 0;
        right: 0;
        padding: 1rem;
        z-index: 999;
      }

      #main_title {
        position: fixed;
        padding: 1rem;
        transform: translateX(-50%);
        left: 50%;
        top: 0;
        z-index: 999;
      }

      #tooltip {
        position: absolute;
        background-color: #e2e2e2;
        border: 1px solid black;
        width: 200px;
        height: 300px;
        opacity: 0;
        text-align: center;
        overflow: auto;
      }
    </style>
  </head>

  <body>
    <main>
      <h1 id="main_title">Interactive Visualization of Ornithopter Layouts</h1>

      <section id="sliders">
        <label style="min-width: 150px; display: inline-block" for="winglength-input" id="winglength-label">Wing Length: </label>
        <input type="number" value="70" id="winglength-input" name="winglength-input">
        <br> 
        <label style="min-width: 150px; display: inline-block" for="kipps-input" id="kipps-label">Kipps Distance: </label>
        <input type="number" value="10" id="kipps-input" name="kipps-input">
        <br> 
        <label style="min-width: 150px; display: inline-block" for="mass-input" id="mass-label">Mass: </label>
        <input type="number" value="7" id="mass-input" name="mass-input">
        <br>
        <label style="min-width: 150px; display: inline-block" for="rpm-input" id="rpm-label">RPM: </label>
        <input type="number" value="1" id="rpm-input" name="rpm-input">
      </section>

      <section id="scrolly">
        <figure id="figure">
          <canvas id="gears"></canvas>
          <div id="geomap">
            <div id="tooltip">
              <h2>Birds in area:</h2>
              <p id="tooltip_text"></p>
            </div>
          </div>
        </figure>

        <article>
          <div class="step" data-step="1">
            <p class="title">BIRDS</p> 
            <p class="info">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sagittis, felis at gravida gravida, sem diam convallis justo, in iaculis neque metus id ex. Praesent maximus sagittis faucibus. Sed sodales elit odio, sed finibus mi finibus non. Duis nisl leo, vulputate vitae odio vitae, pretium convallis sem. Vivamus luctus congue nibh, in sollicitudin purus pellentesque vitae. Quisque ac risus vel metus consectetur hendrerit in et mi. Integer orci erat, elementum non felis ut, faucibus placerat nibh.
            </p>
          </div>
          <div class="step" data-step="2">
            <p class="title">ORNITHOPTER</p> 
            <p class="info">
              Aliquam mollis, dui vitae aliquam auctor, sapien enim ullamcorper nulla, nec tempor arcu neque in urna. Nulla non fringilla est. Maecenas vel metus euismod, facilisis lorem eu, volutpat enim. Mauris eu dapibus elit. Aliquam imperdiet venenatis risus nec vehicula. Ut efficitur massa arcu, eget tristique ligula venenatis quis. Etiam posuere, nisi ut commodo laoreet, felis ante mattis nulla, non condimentum diam orci in nunc. Etiam metus ligula, feugiat id accumsan id, consectetur in ligula. Donec gravida dictum magna vel rhoncus. Nullam eu volutpat ipsum. Nullam eleifend commodo dolor, eget tristique arcu iaculis a.
            </p>
          </div>
          <div class="step" data-step="3">
            <p class="title">GEARS</p> 
            <p class="info">
              Sed cursus feugiat leo sit amet accumsan. Sed tincidunt pulvinar sem, eu eleifend quam vulputate ut. Aenean at nibh ligula.
            </p>
          </div>
          <div class="step" data-step="4">
            <p class="title">MAP</p> 
            <p class="info">
              Fusce eget commodo neque. Curabitur auctor tempus sapien nec volutpat. In hac habitasse platea dictumst. Sed vehicula feugiat lectus, eget luctus tortor tempus id. Morbi lobortis ex eu hendrerit sagittis. Nulla aliquet bibendum augue, id eleifend dui pretium non. Suspendisse potenti. Sed ultricies ligula suscipit dui imperdiet pulvinar. Vestibulum bibendum ligula vitae maximus tempor. Nunc at volutpat orci, id aliquet ex. Nunc dignissim odio leo, et consequat elit tempus at.
            </p>
          </div>
        </article>
      </section>
    </main>

    <script src={{ url_for('static', filename='./js/p5.js') }}></script>
    <script src={{ url_for('static', filename='./js/hull.js') }}></script>
    <script src={{ url_for('static', filename='./js/geomap.js') }}></script>
    <script src={{ url_for('static', filename='./js/p5Chart.js') }}></script>
    <script src={{ url_for('static', filename='./js/scrolly.js') }}></script>
  </body>
</html>
